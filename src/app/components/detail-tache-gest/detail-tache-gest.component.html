<div class="task-detail-container" *ngIf="tache">
  <!-- En-tÃªte de la tÃ¢che -->
  <div class="task-header">
    <h2>{{ taskName }}</h2>
    <p><strong>Date d'Ã©chÃ©ance :</strong>
      <input type="date" [(ngModel)]="dueDate" />
    </p>
    <p><strong>AssignÃ©e Ã  :</strong>
      <input type="text" [(ngModel)]="assignedTo" placeholder="Email ou ID du membre" />
    </p>

    <p><strong>Description :</strong></p>
    <textarea [(ngModel)]="description" placeholder="DÃ©cris la tÃ¢che ici..."></textarea>
  </div>

  <!-- Statut -->
  <div class="status-update">
    <p><strong>Mettre Ã  jour le statut :</strong></p>
    <button [class.active]="status === 'Pas commencÃ©'" (click)="updateStatus('Pas commencÃ©')">â³ Pas commencÃ©</button>
    <button [class.active]="status === 'En cours'" (click)="updateStatus('En cours')">ğŸ”§ En cours</button>
    <button [class.active]="status === 'TerminÃ©'" (click)="updateStatus('TerminÃ©')">âœ… TerminÃ©</button>
  </div>

  <!-- Commentaires -->
  <div class="comments-section">
    <p><strong>ğŸ’¬ Ajouter un commentaire :</strong></p>
    <textarea [(ngModel)]="comments" placeholder="Ajoutez votre commentaire ici..."></textarea>
    <button class="comment-button" (click)="addComment()">ğŸ’¬ Ajouter un commentaire</button>

    <!-- Liste des commentaires existants -->
    <div class="comment-list" *ngIf="tache.commentaires?.length > 0">
      <p><strong>ğŸ—‚ Commentaires existants :</strong></p>
      <ul>
        <li *ngFor="let com of tache.commentaires">
          ğŸ—¨ï¸ {{ com }}
        </li>
      </ul>
    </div>
  </div>

  <!-- PiÃ¨ce jointe -->
  <div class="file-upload">
    <p><strong>ğŸ“ Ajouter une piÃ¨ce jointe :</strong></p>
    <input type="file" (change)="handleFileInput($event)" />
    <div *ngIf="tache.fichier">
      ğŸ“ <strong>Fichier joint :</strong> {{ tache.fichier }}
    </div>
  </div>

  <!-- Actions -->
  <div class="actions">
    <button class="save-button" (click)="saveTask()">ğŸ’¾ Mettre Ã  jour la tÃ¢che</button>
    <button class="dashboard-button" (click)="goToDashboard()">â¬… Retour au tableau de bord</button>
    <button class="logout-button" (click)="logout()">ğŸšª Se DÃ©connecter</button>
  </div>
</div>

<!-- TÃ¢che introuvable -->
<ng-template [ngIf]="!tache">
  <p style="color: red; text-align: center; margin-top: 2rem;">
    âŒ TÃ¢che introuvable ou non chargÃ©e.
  </p>
</ng-template>
